#! /bin/bash

# Wrapper for dotfiles repo-level rakefile

if [ -z "$DOTFILES" ]; then
  echo "!! missing env variable: DOTFILES"
  exit 1
fi

if ! type rake >/dev/null 2>&1 ; then
  echo "!! missing rake. install ruby?"
  exit 2
fi

cd $DOTFILES

if [ $# -eq 0 ]; then
  echo 'Dotfiles management and setup commands:'
  echo '(should use `dotfiles` globally instead of rake)'
  rake -T
  exit 0
fi

rake $@
